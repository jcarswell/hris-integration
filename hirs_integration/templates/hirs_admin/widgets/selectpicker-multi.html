<div class="input-group mb-3">
  <div class="input-group-prepend">
    <span class="input-group-text" id="basic-addon1">{{ widget.title }}</span>
  </div>
  <select class="selectpicker" data-live-search='true' name="{{ widget.name }}" multiple{% if max_opts %} data-max-options="{{max_opts}}"{% endif %}>
    {% for group_name, group_choices, group_index in widget.optgroups %}
    {% if group_name %}<optgroup label="{{ group_name }}">{% endif %}
    {% for option in group_choices %}
    {% include option.template_name with widget=option %}
    {% endfor %}
    {% if group_name %}</optgroup>{% endif %}
    {% endfor %}
  </select>
</div>
